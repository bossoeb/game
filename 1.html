<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>猜數字遊戲</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; margin-top: 50px; }
        input, button { font-size: 18px; margin: 10px; }
        #restartBtn { display: none; }
        #btnGroup { display: none; margin-top: 20px; }
        #btnGroup button { margin: 0 10px; }
    </style>
</head>
<body>
    <h1>猜數字遊戲</h1>
    <h2>如果猜的次數在7次以下，就可以選擇其他關卡</h2>
    <p id="range">請猜 0 到 100 之間的數字：</p>
    <input type="number" id="guess" min="0" max="100">
    <button onclick="checkGuess()">猜！</button>
    <p id="result"></p> 
    <p id="count">已猜次數：0</p>
    <div id="btnGroup">
        <button onclick="goToMaze()">進入下一關</button>
        <button onclick="goToMine()">或另一關</button>
    </div>
    <button id="restartBtn" onclick="restartGame()">進入下一關</button>
    <script>
        let answer = Math.floor(Math.random() * 100) + 0;
        let min = 0;
        let max = 100;
        let guessCount = 0;

        function checkGuess() {
            const guess = Number(document.getElementById('guess').value);
            const result = document.getElementById('result');
            if (guess < min || guess > max) {
                result.textContent = `請輸入 ${min} 到 ${max} 之間的數字！`;
                return;
            }
            guessCount++;
            document.getElementById('count').textContent = `已猜次數：${guessCount}`;
            if (guess === answer) {
                result.textContent = "恭喜你猜對了！";
                if (guessCount <= 7) {
                    document.getElementById('btnGroup').style.display = "block";
                    document.getElementById('restartBtn').style.display = "none";
                } else {
                    document.getElementById('restartBtn').style.display = "inline-block";
                    document.getElementById('btnGroup').style.display = "none";
                }
            } else if (guess > answer) {
                max = guess;
                result.textContent = "太大了！";
            } else {
                min = guess;
                result.textContent = "太小了！";
            }
            document.getElementById('range').textContent = `請猜 ${min} 到 ${max} 之間的數字：`;
            document.getElementById('guess').min = min;
            document.getElementById('guess').max = max;
        }

        function restartGame() {
            // 8次(含)以上才會進入這裡
            window.location.href = 'g1-1.html';
        }

        function goToMaze() {
            window.location.href = 'g1-1.html';
        }

        function goToMine() {
            window.location.href = 'g1-2.html';
        }
    </script>
</body>
</html>